# 实验记录模板

> **实验编号**: EXP-YYYYMMDD-XXX
> **实验日期**: YYYY-MM-DD HH:MM
> **实验人员**: [姓名]
> **实验状态**: 🔄 进行中 / ✅ 已完成 / ❌ 已终止

---

## 1. 实验概述

### 1.1 实验名称
<!-- 简洁明了的实验名称 -->
[例：去相关性适应度函数消融实验]

### 1.2 实验目的
<!-- 本次实验要解决的问题或验证的假设 -->
-
-

### 1.3 实验假设
<!-- 预期结果或假设 -->
-

---

## 2. 实验配置

### 2.1 遗传算法参数

| 参数 | 值 | 说明 |
|:-----|:--:|:-----|
| `pop_size` | 100 | 种群大小 |
| `generations` | 100 | 迭代代数 |
| `mutation_rate` | 0.2 | 变异率 |
| `crossover_rate` | 0.8 | 交叉率 |
| `replacement_rate` | 0.1 | 替换率 |
| `num_workers` | 8 | 并行进程数 |

### 2.2 适应度函数配置

| 权重参数 | 值 | 说明 |
|:---------|:--:|:-----|
| `w_uncorr` | 1.0 | 去相关性权重 |
| `w_info` | 0.6 | 信息量权重 |
| `w_stability` | 0.4 | 稳定性权重 |

### 2.3 惩罚项参数

| 参数 | 值 | 说明 |
|:-----|:--:|:-----|
| `trans_threshold` | 0.5 | 透过率阈值 |
| `lambda_trans` | 10.0 | 透过率惩罚系数 |
| `corr_threshold` | 0.7 | 互相关阈值 |
| `lambda_corr` | 20.0 | 互相关惩罚系数 |
| `lambda_uniformity` | 5.0 | 均匀性惩罚系数 |
| `cond_threshold` | 100.0 | 条件数阈值 |
| `lambda_stability` | 5.0 | 稳定性惩罚系数 |

### 2.4 滤光片物理约束

| 参数 | 值 | 说明 |
|:-----|:--:|:-----|
| 层数 | 20 | 每个滤光片的层数 |
| 单层厚度范围 | [20, 200] nm | 单层最小/最大厚度 |
| 总厚度范围 | [400, 2000] nm | 总厚度约束 |
| 材料 | SiO₂/TiO₂ | 交替薄膜材料 |
| 波长范围 | 400-700 nm | 可见光波段 |

---

## 3. 运行环境

### 3.1 硬件环境

| 项目 | 配置 |
|:-----|:-----|
| CPU | [型号, 核数] |
| GPU | [型号, 显存] |
| 内存 | [容量] |
| 存储 | [类型, 容量] |

### 3.2 软件环境

| 软件 | 版本 |
|:-----|:-----|
| OS | Linux 5.4.x |
| Python | 3.11.x |
| NumPy | x.x.x |
| SciPy | x.x.x |
| Matplotlib | x.x.x |

### 3.3 运行命令

```bash
python src/main.py \
    --pop_size 100 \
    --generations 100 \
    --w_uncorr 1.0 \
    --w_info 0.6 \
    --w_stability 0.4
```

---

## 4. 实验结果

### 4.1 进化过程统计

| 指标 | 初始值 | 最终值 | 变化 |
|:-----|:------:|:------:|:----:|
| 最优适应度 | - | - | ↑/↓ |
| 平均适应度 | - | - | ↑/↓ |
| 信息量得分 | - | - | ↑/↓ |
| 最大相关系数 | - | - | ↑/↓ |
| 平均透过率 | - | - | ↑/↓ |
| 条件数 | - | - | ↑/↓ |

### 4.2 最优个体指标

| 指标 | 值 | 备注 |
|:-----|:--:|:-----|
| 适应度 (Fitness) | - | |
| 信息量 (Information) | - | D-Optimality |
| 去相关性 (Uncorrelation) | - | 1 - max_corr |
| 稳定性 (Stability) | - | 1 - log(cond)/10 |
| 平均透过率 | - | |
| 透过率标准差 | - | 通道均匀性 |
| 条件数 | - | |

### 4.3 收敛曲线

<!-- 插入进化曲线图 -->
![进化曲线](results/YYYY-MM-DD HH:MM:SS/evolution_history.png)

### 4.4 最优滤光片光谱响应

<!-- 插入16通道光谱响应图 -->
![光谱响应](results/YYYY-MM-DD HH:MM:SS/best_solution_spectra.png)

### 4.5 相关系数矩阵

<!-- 插入相关矩阵热图 -->
![相关矩阵](results/YYYY-MM-DD HH:MM:SS/correlation_matrix.png)

---

## 5. 重建评估

### 5.1 评估配置

| 参数 | 值 |
|:-----|:--:|
| 测试数据集 | TSA_simu_data |
| 测试图像数量 | 10 |
| FISTA λ | 0.005 |
| FISTA 迭代次数 | 100 |

### 5.2 重建指标

| 图像 | PSNR (dB) | SSIM | RMSE |
|:----:|:---------:|:----:|:----:|
| 1 | - | - | - |
| 2 | - | - | - |
| ... | - | - | - |
| **平均** | **-** | **-** | **-** |

### 5.3 重建可视化

<!-- 选择代表性图像展示 Truth / Prediction / Difference -->
![重建对比](plots/image_01_band_014.png)

---

## 6. 对比分析

### 6.1 与基线对比

| 方法 | PSNR | SSIM | 备注 |
|:-----|:----:|:----:|:-----|
| 本实验 | - | - | |
| 基线1 | - | - | |
| 基线2 | - | - | |

### 6.2 与历史实验对比

| 实验编号 | 配置差异 | PSNR | SSIM | 结论 |
|:---------|:---------|:----:|:----:|:-----|
| EXP-xxx | - | - | - | - |

---

## 7. 分析与结论

### 7.1 关键发现
<!-- 本次实验的主要发现 -->
1.
2.
3.

### 7.2 结论
<!-- 实验结论，是否验证了假设 -->


### 7.3 局限性
<!-- 本次实验的局限性 -->
-

---

## 8. 后续计划

### 8.1 待解决问题
- [ ]
- [ ]

### 8.2 下一步实验
- [ ]
- [ ]

### 8.3 改进方向
-

---

## 9. 附录

### 9.1 结果文件路径

| 文件类型 | 路径 |
|:---------|:-----|
| 实验日志 | `results/YYYY-MM-DD HH:MM:SS/evolution_log.txt` |
| 最优个体 | `results/YYYY-MM-DD HH:MM:SS/best_individual_XX.npy` |
| 最终种群 | `results/YYYY-MM-DD HH:MM:SS/final_population.npy` |
| 进化曲线 | `results/YYYY-MM-DD HH:MM:SS/evolution_history.png` |
| Mask文件 | `mask/mask_XXX.mat` |

### 9.2 相关文献
<!-- 参考的论文或资料 -->
1.

### 9.3 备注
<!-- 其他需要记录的信息 -->


---

<div align="center">

**实验记录创建于**: YYYY-MM-DD
**最后更新**: YYYY-MM-DD

</div>
